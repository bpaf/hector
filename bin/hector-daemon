#!/usr/bin/env ruby

require "hector/boot"
Hector.start

def stop
  EventMachine.stop_event_loop
  Hector.logger.info "Hector stopped"
end

%w(INT QUIT TERM).each do |signal|
  Signal.trap(signal) { stop }
end

EventMachine.run do
  Hector.start_server
end
